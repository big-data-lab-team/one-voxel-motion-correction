{
    "command-line": ". /env/bin/activate; ovmc [ALGORITHM] [DATASET] [DATASET_PERTURBATED] [OUTPUT_BASE_NAME]",
    "container-image": {
        "image": "bigdatalabteam/one-voxel-motion-correction:latest",
        "type": "docker"
    },
    "description": "Wrapper for ovmc experiment.",
    "inputs": [
        {
            "id": "dataset",
            "name": "The fMRI sequence to process",
            "type": "File",
            "value-key": "[DATASET]"
        },
        {
            "id": "dataset_perturbated",
            "name": "The fMRI sequence to process, perturbate with one-voxel.",
            "type": "File",
            "value-key": "[DATASET_PERTURBATED]"
        },
        {
            "id": "output_base_name",
            "name": "Output base name",
            "type": "String",
            "value-key": "[OUTPUT_BASE_NAME]"
        },
        {
            "id": "algorithm",
            "name": "Motion estimation algorithm",
            "type": "String",
            "value-key": "[ALGORITHM]",
            "value-choices": ["mcflirt", "mcflirt_fudge", "niaklike", "niaklike_no_chained_init", "spm"]
        }
    ],
    "name": "ovmc",
    "output-files": [
        {
            "id": "par_file",
            "name": "Parameter file produced by motion correction (original dataset)",
            "optional": false,
            "path-template": "[OUTPUT_BASE_NAME].par"
        },
        {
            "id": "fd_file",
            "name": "Frame displacement file produced by motion correction (original dataset)",
            "optional": false,
            "path-template": "[OUTPUT_BASE_NAME].fd"
        },
        {
            "id": "par_file_perturbated",
            "name": "Parameter file produced by motion correction (perturbated dataset)",
            "optional": false,
            "path-template": "[OUTPUT_BASE_NAME]_perturbated.par"
        },
        {
            "id": "fd_file_perturbated",
            "name": "Frame displacement file produced by motion correction (perturbated dataset)",
            "optional": false,
            "path-template": "[OUTPUT_BASE_NAME]_perturbated.fd"
        },
        {
            "id": "par_file_diff",
            "name": "Parameter file produced by motion correction (diff between datasets)",
            "optional": false,
            "path-template": "[OUTPUT_BASE_NAME]_diff.par"
        },
        {
            "id": "fd_file_diff",
            "name": "Frame displacement file produced by motion correction (diff between datasets)",
            "optional": false,
            "path-template": "[OUTPUT_BASE_NAME]_diff.fd"
        }
    ],
    "tests": [
        {
            "name": "test-mcflirt",
            "invocation": {
                "algorithm": "mcflirt",
                "output_base_name": "output",
                "dataset": "/test/test.nii.gz",
                "dataset_perturbated": "/test/test_one_voxel.nii.gz"
            },
            "assertions": {
                "exit-code": 0,
                "output-files": [ {
                    "id": "par_file",
                    "md5-reference": "b347b8ab329ac6c66206fd0d75278312"
                },
                {
                    "id": "fd_file",
                    "md5-reference": "6bee7330d7848d87f5ad27fe2ad7c6eb"
                },
                {
                    "id": "par_file_perturbated",
                    "md5-reference": "de9fbc5031646008347d1c34eef272eb"
                },
                {
                    "id": "fd_file_perturbated",
                    "md5-reference": "0dc5922f9c57b8c8b54c127948d6563b"
                },
                {
                    "id": "par_file_diff",
                    "md5-reference": "e7ff63598ab52606030ae76c72e8dbfb"
                },
                {
                    "id": "fd_file_diff",
                    "md5-reference": "2b3eca640bdabff1368a8459eca75220"
                }
                ]
            }
        }
    ],
    "schema-version": "0.5",
    "tags": {
        "purpose": "experiment",
        "modality": "fmri",
        "pipeline": "motion-estimation"
    },
    "tool-version": "0.1"
}
